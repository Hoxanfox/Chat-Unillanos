# ============================================================================
# CONFIGURACI?N DEL SERVIDOR DE CHAT P2P
# ============================================================================

# ----------------------------------------------------------------------------
# CONFIGURACI?N GENERAL DEL SERVIDOR
# ----------------------------------------------------------------------------
server.name=ChatServer-P2P
server.version=1.0.0
server.environment=development

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE RED
# ----------------------------------------------------------------------------
# Puerto principal del servidor TCP
server.port=22100

# IP del servidor (0.0.0.0 para escuchar en todas las interfaces)
server.host=0.0.0.0

# N?mero m?ximo de conexiones simult?neas
server.max.connections=100

# Timeout de conexi?n en milisegundos
server.connection.timeout=30000

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE PEER CONNECTION MANAGER
# ----------------------------------------------------------------------------

# Puerto del servidor P2P (para conexiones entre servidores)
peer.server.port=22200

# M?ximo de conexiones P2P
peer.max.connections=50

# Intervalo de heartbeat en milisegundos (30 segundos)
peer.heartbeat.interval.ms=10000
# Timeout de heartbeat en segundos (180 segundos = 3 minutos, permite 6 heartbeats perdidos)
peer.heartbeat.timeout.seconds=180

# N?mero de reintentos de reconexi?n
peer.reconnect.attempts=3

# Delay entre reintentos en milisegundos (5 segundos)
peer.reconnect.delay.ms=5000

# Lista de peers bootstrap (IP:Puerto separados por coma)
# Ejemplo: peer.bootstrap.nodes=192.168.1.100:22100,192.168.1.101:22100
# IMPORTANTE: Configurar esto en cada PC con la IP del servidor principal
peer.bootstrap.nodes=

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE HEARTBEAT
# ----------------------------------------------------------------------------

# Intervalo de env?o de heartbeats en milisegundos (30 segundos)
p2p.heartbeat.interval=30000

# Timeout de heartbeat (180 segundos = 3 minutos)
p2p.heartbeat.timeout=180000

# Habilitar heartbeat autom?tico
p2p.heartbeat.enabled=true

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE LOGGING
# ----------------------------------------------------------------------------

# Nivel de logging general
logging.level.root=INFO

# Nivel de logging para paquetes espec?ficos
logging.level.com.arquitectura=DEBUG
logging.level.com.arquitectura.logicaPeers=DEBUG
logging.level.com.arquitectura.controlador=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN

# Archivo de logs
logging.file.name=logs/server.log
logging.file.max-size=10MB
logging.file.max-history=30

# Patr?n de logging
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE ARCHIVOS
# ----------------------------------------------------------------------------

# Directorio base para almacenamiento de archivos
file.storage.base.path=./storage

# Tama?o m?ximo de archivo en bytes (50 MB)
file.upload.max.size=52428800

# Tama?o de chunk para transferencia de archivos (1 MB)
file.chunk.size=1048576

# Tipos de archivo permitidos (separados por coma)
file.allowed.types=jpg,jpeg,png,gif,pdf,doc,docx,txt,mp3,wav,ogg

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE SEGURIDAD
# ----------------------------------------------------------------------------

# Habilitar autenticaci?n
security.authentication.enabled=true

# Tiempo de expiraci?n de sesi?n en minutos
security.session.timeout=60

# N?mero m?ximo de intentos de login fallidos
security.login.max.attempts=5

# Tiempo de bloqueo despu?s de intentos fallidos (minutos)
security.login.lockout.duration=15

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE PERFORMANCE
# ----------------------------------------------------------------------------

# Tama?o del pool de threads para procesamiento as?ncrono
async.executor.pool.size=10

# Tama?o m?ximo de cola para tareas as?ncronas
async.executor.queue.capacity=100

# Habilitar cach?
cache.enabled=true

# Tiempo de expiraci?n de cach? en segundos
cache.expiration=300

# ----------------------------------------------------------------------------
# CONFIGURACI?N DE DESARROLLO
# ----------------------------------------------------------------------------

# Perfil activo
spring.profiles.active=development

# Habilitar modo debug
debug=false

# Habilitar actuator endpoints (solo desarrollo)
management.endpoints.web.exposure.include=health,info,metrics
