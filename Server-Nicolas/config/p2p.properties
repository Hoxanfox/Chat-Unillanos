# ============================================================================
# CONFIGURACIÓN P2P (PEER-TO-PEER) DEL SERVIDOR DE CHAT
# ============================================================================
# Este archivo contiene toda la configuración relacionada con la funcionalidad
# Peer-to-Peer del servidor de chat, incluyendo comunicación entre servidores,
# heartbeat, descubrimiento automático de peers y configuración de clientes.
# ============================================================================

# ----------------------------------------------------------------------------
# CONFIGURACIÓN GENERAL P2P
# ----------------------------------------------------------------------------

# Habilitar/deshabilitar funcionalidad P2P
# true = El servidor participará en la red P2P
# false = El servidor funcionará de manera independiente
p2p.enabled=true

# Puerto para comunicación P2P entre servidores
# Debe ser accesible desde otros peers en la red
# Rango válido: 1024-65535
p2p.puerto=22100

# Puerto principal del servidor TCP
peer.server.port=22100

# Nombre descriptivo del servidor en la red P2P
# Se utiliza para identificar el servidor en logs y comunicaciones
p2p.nombre.servidor=Servidor-P2P

# IP pública del servidor (dejar vacío para auto-detectar)
# Si se deja vacío, el sistema intentará detectar automáticamente la IP
# Ejemplo: p2p.ip=192.168.1.100
p2p.ip=

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE HEARTBEAT
# ----------------------------------------------------------------------------
# El heartbeat es un mecanismo para verificar que los peers estén activos.
# Cada servidor envía periódicamente un "latido" a sus peers conocidos.
# ----------------------------------------------------------------------------

# Intervalo de envío de heartbeats en milisegundos
# Define cada cuánto tiempo el servidor envía un heartbeat a otros peers
# Valor por defecto: 30000 ms (30 segundos)
p2p.heartbeat.interval=30000

# Timeout de heartbeat en milisegundos
# Tiempo máximo sin recibir heartbeat antes de marcar un peer como OFFLINE
# Debe ser mayor que p2p.heartbeat.interval (recomendado: 3x el intervalo)
# Valor por defecto: 90000 ms (90 segundos)
p2p.heartbeat.timeout=90000

# Habilitar heartbeat automático
# true = El servidor enviará y verificará heartbeats automáticamente
# false = No se enviarán heartbeats (no recomendado en producción)
p2p.heartbeat.enabled=true

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE DESCUBRIMIENTO DE PEERS
# ----------------------------------------------------------------------------
# El sistema de descubrimiento permite que los servidores encuentren
# automáticamente otros peers en la red P2P.
# ----------------------------------------------------------------------------

# Habilitar descubrimiento automático de peers
# true = El servidor buscará periódicamente nuevos peers
# false = Solo se conectará a peers conocidos manualmente
p2p.discovery.enabled=true

# Intervalo de descubrimiento en milisegundos
# Define cada cuánto tiempo el servidor busca nuevos peers
# Valor por defecto: 300000 ms (5 minutos)
p2p.discovery.interval=300000

# Lista de peers bootstrap (iniciales) conocidos
# Formato: ip:puerto,ip:puerto,...
# Estos son los primeros peers a los que el servidor intentará conectarse
# al iniciar. Dejar vacío si no hay peers conocidos inicialmente.
# Ejemplo: p2p.peers.bootstrap=192.168.1.10:22100,192.168.1.11:22100
p2p.peers.bootstrap=

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE CLIENTE P2P
# ----------------------------------------------------------------------------
# Configuración para las conexiones salientes hacia otros peers.
# ----------------------------------------------------------------------------

# Timeout de conexión para cliente P2P en milisegundos
# Tiempo máximo de espera al intentar conectar con otro peer
# Valor por defecto: 10000 ms (10 segundos)
p2p.client.timeout=10000

# Número máximo de threads para pool de conexiones P2P
# Define cuántas conexiones simultáneas puede manejar el cliente P2P
# Ajustar según la carga esperada y recursos del servidor
# Valor por defecto: 10 threads
p2p.client.pool.threads=10

# Reintentos de conexión en caso de fallo
# Número de veces que se intentará conectar a un peer antes de marcarlo como no disponible
# Valor por defecto: 3 intentos
p2p.client.retry.attempts=3

# Delay entre reintentos en milisegundos
# Tiempo de espera entre cada intento de reconexión
# Valor por defecto: 1000 ms (1 segundo)
p2p.client.retry.delay=1000
