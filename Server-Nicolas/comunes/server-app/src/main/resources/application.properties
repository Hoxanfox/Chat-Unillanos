# ============================================================================
# CONFIGURACIÓN DEL SERVIDOR DE CHAT P2P
# ============================================================================

# ----------------------------------------------------------------------------
# CONFIGURACIÓN GENERAL DEL SERVIDOR
# ----------------------------------------------------------------------------
server.name=ChatServer-P2P
server.version=1.0.0
server.environment=development

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE RED
# ----------------------------------------------------------------------------
# Puerto principal del servidor TCP
server.port=

# IP del servidor (0.0.0.0 para escuchar en todas las interfaces)
server.host=0.0.0.0

# Número máximo de conexiones simultáneas
server.max.connections=100

# Timeout de conexión en milisegundos
server.connection.timeout=30000

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE PEER CONNECTION MANAGER
# ----------------------------------------------------------------------------

# Puerto del servidor P2P (para conexiones entre servidores)
peer.server.port=

# Máximo de conexiones P2P
peer.max.connections=50

# Intervalo de heartbeat en milisegundos (30 segundos)
peer.heartbeat.interval.ms=30000

# Timeout de heartbeat en segundos (60 segundos)
peer.heartbeat.timeout.seconds=60

# Número de reintentos de reconexión
peer.reconnect.attempts=3

# Delay entre reintentos en milisegundos (5 segundos)
peer.reconnect.delay.ms=5000

# Lista de peers bootstrap (IP:Puerto separados por coma)
# Ejemplo: peer.bootstrap.nodes=192.168.1.100:22100,192.168.1.101:22100
# IMPORTANTE: Configurar esto en cada PC con la IP del servidor principal
peer.bootstrap.nodes=10.44.235.99:22100

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE HEARTBEAT
# ----------------------------------------------------------------------------

# Intervalo de envío de heartbeats en milisegundos (30 segundos)
p2p.heartbeat.interval=30000

# Timeout de heartbeat (90 segundos)
p2p.heartbeat.timeout=90000

# Habilitar heartbeat automático
p2p.heartbeat.enabled=true

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE LOGGING
# ----------------------------------------------------------------------------

# Nivel de logging general
logging.level.root=INFO

# Nivel de logging para paquetes específicos
logging.level.com.arquitectura=DEBUG
logging.level.com.arquitectura.logicaPeers=DEBUG
logging.level.com.arquitectura.controlador=INFO
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN

# Archivo de logs
logging.file.name=logs/server.log
logging.file.max-size=10MB
logging.file.max-history=30

# Patrón de logging
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE ARCHIVOS
# ----------------------------------------------------------------------------

# Directorio base para almacenamiento de archivos
file.storage.base.path=./storage

# Tamaño máximo de archivo en bytes (50 MB)
file.upload.max.size=52428800

# Tamaño de chunk para transferencia de archivos (1 MB)
file.chunk.size=1048576

# Tipos de archivo permitidos (separados por coma)
file.allowed.types=jpg,jpeg,png,gif,pdf,doc,docx,txt,mp3,wav,ogg

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE SEGURIDAD
# ----------------------------------------------------------------------------

# Habilitar autenticación
security.authentication.enabled=true

# Tiempo de expiración de sesión en minutos
security.session.timeout=60

# Número máximo de intentos de login fallidos
security.login.max.attempts=5

# Tiempo de bloqueo después de intentos fallidos (minutos)
security.login.lockout.duration=15

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE PERFORMANCE
# ----------------------------------------------------------------------------

# Tamaño del pool de threads para procesamiento asíncrono
async.executor.pool.size=10

# Tamaño máximo de cola para tareas asíncronas
async.executor.queue.capacity=100

# Habilitar caché
cache.enabled=true

# Tiempo de expiración de caché en segundos
cache.expiration=300

# ----------------------------------------------------------------------------
# CONFIGURACIÓN DE DESARROLLO
# ----------------------------------------------------------------------------

# Perfil activo
spring.profiles.active=development

# Habilitar modo debug
debug=false

# Habilitar actuator endpoints (solo desarrollo)
management.endpoints.web.exposure.include=health,info,metrics
