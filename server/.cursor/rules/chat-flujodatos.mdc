---
alwaysApply: true
---

# Estructura de Carpetas

ChatServer/ (Proyecto Padre - pom.xml)
|
|-- Presentacion/
|   |-- GUI/ (Componente .jar)
|   |   `-- src/main/java/com/unillanos/server/gui/
|   |       |-- controller/
|   |       `-- view/
|   `-- Main/ (Componente .jar - Punto de Entrada)
|       `-- src/main/java/com/unillanos/server/ServerApplication.java
|
|-- LogicaNegocio/
|   |-- Servicios/ (Componente .jar)
|   |   `-- src/main/java/com/unillanos/server/service/
|   |       |-- interfaces/ (IActionDispatcher.java)
|   |       |-- impl/ (ActionDispatcherImpl.java, UserServiceImpl.java, etc.)
|   |       `-- factories/ (MessageFactory.java)
|   `-- Validadores/ (Componente .jar)
|       `-- src/main/java/com/unillanos/server/validation/
|
|-- Datos/
|   `-- Repositorios/ (Componente .jar)
|       `-- src/main/java/com/unillanos/server/repository/
|           |-- interfaces/ (IUserRepository.java, etc.)
|           |-- impl/ (UserRepositoryImpl.java, etc.)
|           |-- models/ (UserEntity.java, etc.)
|           `-- mappers/ (UserMapper.java, etc.)
|
`-- Infraestructura/
    |-- DTOs/ (Componente .jar)
    |   `-- src/main/java/com/unillanos/server/dto/
    |
    |-- Netty/ (Componente .jar)
    |   `-- src/main/java/com/unillanos/server/netty/
    |       |-- handler/ (ClientRequestHandler.java)
    |       `-- ...
    |
    |-- Configuracion/ (Componente .jar)
    |   |-- src/main/java/com/unillanos/server/config/
    |   `-- src/main/resources/application.properties
    |
    `-- Logs/ (Componente .jar)
        `-- src/main/java/com/unillanos/server/logs/


# Diagrama Componentes - Paquetes

graph TD
    %% Definición de las capas simbólicas (subgrafos)
    subgraph " "
        style CapaPresentacion fill:#e3f2fd,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        direction LR
        A_Main["Main (.jar)<br><i>Punto de Entrada</i>"]
        A_GUI["GUI (.jar)<br><i>JavaFX Dashboard</i>"]
    end

    subgraph " "
        style CapaNegocio fill:#e8f5e9,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        direction LR
        B_Servicios["<b>Servicios (.jar)</b><br><i>Lógica y Orquestación</i>"]
        B_Validadores["Validadores (.jar)<br><i>Reglas de Validación</i>"]
    end

    subgraph " "
        style CapaDatos fill:#fffde7,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        C_Repositorios["<b>Repositorios (.jar)</b><br><i>Acceso a Datos JDBC</i>"]
    end

    subgraph " "
        style CapaInfra fill:#f3e5f5,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        direction LR
        D_Netty["<b>Netty (.jar)</b><br><i>Servidor TCP/IP</i>"]
        D_DTOs["DTOs (.jar)<br><i>Contratos de Datos</i>"]
        D_Config["Configuracion (.jar)<br><i>Properties</i>"]
        D_Logs["Logs (.jar)<br><i>Sistema de Logging</i>"]
    end

    %% Definición de las dependencias entre componentes
    
    %% Capa de Presentación
    A_Main --> A_GUI
    A_GUI --> B_Servicios

    %% Capa de Lógica de Negocio
    B_Servicios --> B_Validadores
    B_Servicios --> C_Repositorios
    B_Servicios --> D_Logs
    B_Servicios --> D_DTOs
    
    %% Capa de Datos
    C_Repositorios --> D_Logs
    C_Repositorios --> D_DTOs

    %% Capa de Infraestructura
    D_Netty --> D_Config
    D_Netty --> D_Logs
    D_Netty --> D_DTOs
    
    %% Puente de Inversión de Dependencias (El más importante)
    D_Netty -.->|Depende de la INTERFAZ<br>IActionDispatcher| B_Servicios

    %% El componente Main ensambla todo
    A_Main --> B_Servicios
    A_Main --> D_Netty
    
    %% Nombres de las capas
    subgraph CapaPresentacion ["Capa de Presentación"]
    end
    
    subgraph CapaNegocio ["Capa de Lógica de Negocio"]
    end
    
    subgraph CapaDatos ["Capa de Datos"]
    end
    
    subgraph CapaInfra ["Capa de Infraestructura"]
    end# Estructura de Carpetas

ChatServer/ (Proyecto Padre - pom.xml)
|
|-- Presentacion/
|   |-- GUI/ (Componente .jar)
|   |   `-- src/main/java/com/unillanos/server/gui/
|   |       |-- controller/
|   |       `-- view/
|   `-- Main/ (Componente .jar - Punto de Entrada)
|       `-- src/main/java/com/unillanos/server/ServerApplication.java
|
|-- LogicaNegocio/
|   |-- Servicios/ (Componente .jar)
|   |   `-- src/main/java/com/unillanos/server/service/
|   |       |-- interfaces/ (IActionDispatcher.java)
|   |       |-- impl/ (ActionDispatcherImpl.java, UserServiceImpl.java, etc.)
|   |       `-- factories/ (MessageFactory.java)
|   `-- Validadores/ (Componente .jar)
|       `-- src/main/java/com/unillanos/server/validation/
|
|-- Datos/
|   `-- Repositorios/ (Componente .jar)
|       `-- src/main/java/com/unillanos/server/repository/
|           |-- interfaces/ (IUserRepository.java, etc.)
|           |-- impl/ (UserRepositoryImpl.java, etc.)
|           |-- models/ (UserEntity.java, etc.)
|           `-- mappers/ (UserMapper.java, etc.)
|
`-- Infraestructura/
    |-- DTOs/ (Componente .jar)
    |   `-- src/main/java/com/unillanos/server/dto/
    |
    |-- Netty/ (Componente .jar)
    |   `-- src/main/java/com/unillanos/server/netty/
    |       |-- handler/ (ClientRequestHandler.java)
    |       `-- ...
    |
    |-- Configuracion/ (Componente .jar)
    |   |-- src/main/java/com/unillanos/server/config/
    |   `-- src/main/resources/application.properties
    |
    `-- Logs/ (Componente .jar)
        `-- src/main/java/com/unillanos/server/logs/


# Diagrama Componentes - Paquetes

graph TD
    %% Definición de las capas simbólicas (subgrafos)
    subgraph " "
        style CapaPresentacion fill:#e3f2fd,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        direction LR
        A_Main["Main (.jar)<br><i>Punto de Entrada</i>"]
        A_GUI["GUI (.jar)<br><i>JavaFX Dashboard</i>"]
    end

    subgraph " "
        style CapaNegocio fill:#e8f5e9,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        direction LR
        B_Servicios["<b>Servicios (.jar)</b><br><i>Lógica y Orquestación</i>"]
        B_Validadores["Validadores (.jar)<br><i>Reglas de Validación</i>"]
    end

    subgraph " "
        style CapaDatos fill:#fffde7,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        C_Repositorios["<b>Repositorios (.jar)</b><br><i>Acceso a Datos JDBC</i>"]
    end

    subgraph " "
        style CapaInfra fill:#f3e5f5,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5
        direction LR
        D_Netty["<b>Netty (.jar)</b><br><i>Servidor TCP/IP</i>"]
        D_DTOs["DTOs (.jar)<br><i>Contratos de Datos</i>"]
        D_Config["Configuracion (.jar)<br><i>Properties</i>"]
        D_Logs["Logs (.jar)<br><i>Sistema de Logging</i>"]
    end

    %% Definición de las dependencias entre componentes
    
    %% Capa de Presentación
    A_Main --> A_GUI
    A_GUI --> B_Servicios

    %% Capa de Lógica de Negocio
    B_Servicios --> B_Validadores
    B_Servicios --> C_Repositorios
    B_Servicios --> D_Logs
    B_Servicios --> D_DTOs
    
    %% Capa de Datos
    C_Repositorios --> D_Logs
    C_Repositorios --> D_DTOs

    %% Capa de Infraestructura
    D_Netty --> D_Config
    D_Netty --> D_Logs
    D_Netty --> D_DTOs
    
    %% Puente de Inversión de Dependencias (El más importante)
    D_Netty -.->|Depende de la INTERFAZ<br>IActionDispatcher| B_Servicios

    %% El componente Main ensambla todo
    A_Main --> B_Servicios
    A_Main --> D_Netty
    
    %% Nombres de las capas
    subgraph CapaPresentacion ["Capa de Presentación"]
    end
    
    subgraph CapaNegocio ["Capa de Lógica de Negocio"]
    end
    
    subgraph CapaDatos ["Capa de Datos"]
    end
    
    subgraph CapaInfra ["Capa de Infraestructura"]
    end